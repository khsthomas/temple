!function(m){m.marquee={version:"1.0.01"},m.fn.marquee=function(e){var n,i="string"==typeof e&&e,o=i&&Array.prototype.slice.call(arguments,1)||arguments,s=0==this.length?null:m.data(this[0],"marquee");return s&&i&&this.length?"object"==i.toLowerCase()?s:s[i]?(this.each(function(e){var t=m.data(this,"marquee")[i].apply(s,o);if(0==e&&t){if(!t.jquery)return n=t,!1;n=m([]).add(t)}else t&&t.jquery&&(n=n.add(t))}),n||this):this:this.each(function(){new m.Marquee(this,e)})},m.Marquee=function(e,o){o=m.extend({},m.Marquee.defaults,o);var i=this,s=m(e),r=s.find("> li"),n=-1,t=!1,a=!1,u=0,l=s.width(),h=[];function f(e){a=!1,r.filter("."+o.cssShowing).dequeue().stop();var t=r.eq(e);t.clearQueue(),t.removeAttr("style");for(var n=0;n<h.length;n++){var i=h.shift();clearTimeout(i)}return t.removeAttr("style"),t}function c(e){if(0<r.filter("."+o.cssShowing).length)return!1;var t=r.eq(e);m.isFunction(o.beforeshow)&&o.beforeshow.apply(i,[s,t]);var n={top:("top"==o.yScroll?"-":"+")+t.outerHeight()+"px",left:l>t.width()+o.shiftLeft?l-t.width()-o.shiftLeft:0};s.data("marquee.showing",!0),t.addClass(o.cssShowing),t.css(n).animate({top:"0px"},o.showSpeed,o.fxEasingShow,function(){m.isFunction(o.show)&&o.show.apply(i,[s,t]),s.data("marquee.showing",!1),p(t)})}function p(i,e){if(1==a)return!1;if(e=e||o.pauseSpeed,i.outerWidth()>s.innerWidth()||o.isScroll){var t=setTimeout(function(){if(1==a)return!1;var e=i.outerWidth(),t=-1*e,n=parseInt(i.css("left"),10);i.animate({left:t+"px"},(e+n)*o.scrollSpeed,o.fxEasingScroll,function(){d(i)})},e);h.push(t)}else if(1<r.length){t=setTimeout(function(){if(1==a)return!1;i.animate({top:("top"==o.yScroll?"+":"-")+s.innerHeight()+"px"},o.showSpeed,o.fxEasingScroll),d(i)},e);h.push(t)}}function d(e,t){m.isFunction(o.aftershow)&&o.aftershow.apply(i,[s,e]),e.removeClass(o.cssShowing),t?function(){--n<0&&(n=r.length-1);c(n)}():S()}function w(){a=!0,1!=s.data("marquee.showing")&&r.filter("."+o.cssShowing).dequeue().stop()}function g(){a=!1,1!=s.data("marquee.showing")&&p(r.filter("."+o.cssShowing),1)}function S(){if(++n>=r.length){if(!isNaN(o.loop)&&0<o.loop&&++u>=o.loop)return!1;n=0}c(n)}m.data(s[0],"marquee",i),this.pause=function(){t=!0,w()},this.resume=function(){t=!1,g()},this.update=function(){var e=r.length;r=s.find("> li"),e<=1&&g()},this.prev=function(){f(n).removeClass(o.cssShowing),--n<0&&(n=r.length-1),c(n)},this.next=function(){f(n).removeClass(o.cssShowing),++n>=r.length&&(n=0),c(n)},o.pauseOnHover&&s.hover(function(){if(t)return!1;w()},function(){if(t)return!1;g()}),m.isFunction(o.init)&&o.init.apply(i,[s,o]),S()},m.Marquee.defaults={yScroll:"top",showSpeed:850,scrollSpeed:12,pauseSpeed:5e3,pauseOnHover:!0,loop:-1,fxEasingShow:"swing",fxEasingScroll:"linear",cssShowing:"marquee-showing",init:null,beforeshow:null,show:null,aftershow:null,isScroll:!1,shiftLeft:30}}(jQuery);