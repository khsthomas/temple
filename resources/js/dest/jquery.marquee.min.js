!function(a){a.marquee={version:"1.0.01"},a.fn.marquee=function(b){var c="string"==typeof arguments[0]&&arguments[0],d=c&&Array.prototype.slice.call(arguments,1)||arguments,e=0==this.length?null:a.data(this[0],"marquee");if(e&&c&&this.length){if("object"==c.toLowerCase())return e;if(e[c]){var f;return this.each(function(b){var g=a.data(this,"marquee")[c].apply(e,d);if(0==b&&g){if(!g.jquery)return f=g,!1;f=a([]).add(g)}else g&&g.jquery&&(f=f.add(g))}),f||this}return this}return this.each(function(){new a.Marquee(this,b)})},a.Marquee=function(b,c){function m(a){i=!1,f.filter("."+c.cssShowing).dequeue().stop();var b=f.eq(a);b.clearQueue(),b.removeAttr("style");for(var d=0;d<l.length;d++){var e=l.shift();clearTimeout(e)}return b.removeAttr("style"),b}function n(b){if(f.filter("."+c.cssShowing).length>0)return!1;var g=f.eq(b);a.isFunction(c.beforeshow)&&c.beforeshow.apply(d,[e,g]);var h={top:("top"==c.yScroll?"-":"+")+g.outerHeight()+"px",left:k>g.width()+c.shiftLeft?k-g.width()-c.shiftLeft:0};e.data("marquee.showing",!0),g.addClass(c.cssShowing),g.css(h).animate({top:"0px"},c.showSpeed,c.fxEasingShow,function(){a.isFunction(c.show)&&c.show.apply(d,[e,g]),e.data("marquee.showing",!1),o(g)})}function o(a,b){if(1==i)return!1;if(b=b||c.pauseSpeed,s(a)||c.isScroll){var d=setTimeout(function(){if(1==i)return!1;var b=a.outerWidth(),d=-1*b,e=parseInt(a.css("left"),10);a.animate({left:d+"px"},(b+e)*c.scrollSpeed,c.fxEasingScroll,function(){p(a)})},b);l.push(d)}else if(f.length>1){var d=setTimeout(function(){return 1!=i&&(a.animate({top:("top"==c.yScroll?"+":"-")+e.innerHeight()+"px"},c.showSpeed,c.fxEasingScroll),void p(a))},b);l.push(d)}}function p(b,f){a.isFunction(c.aftershow)&&c.aftershow.apply(d,[e,b]),b.removeClass(c.cssShowing),f?u():t()}function q(){i=!0,1!=e.data("marquee.showing")&&f.filter("."+c.cssShowing).dequeue().stop()}function r(){i=!1,1!=e.data("marquee.showing")&&o(f.filter("."+c.cssShowing),1)}function s(a){return a.outerWidth()>e.innerWidth()}function t(){if(g++,g>=f.length){if(!isNaN(c.loop)&&c.loop>0&&++j>=c.loop)return!1;g=0}n(g)}function u(){g--,g<0&&(g=f.length-1),n(g)}c=a.extend({},a.Marquee.defaults,c);var d=this,e=a(b),f=e.find("> li"),g=-1,h=!1,i=!1,j=0,k=e.width(),l=[];a.data(e[0],"marquee",d),this.pause=function(){h=!0,q()},this.resume=function(){h=!1,r()},this.update=function(){var a=f.length;f=e.find("> li"),a<=1&&r()},this.prev=function(){var a=m(g);a.removeClass(c.cssShowing),g--,g<0&&(g=f.length-1),n(g)},this.next=function(){var a=m(g);a.removeClass(c.cssShowing),g++,g>=f.length&&(g=0),n(g)},c.pauseOnHover&&e.hover(function(){return!h&&void q()},function(){return!h&&void r()}),a.isFunction(c.init)&&c.init.apply(d,[e,c]),t()},a.Marquee.defaults={yScroll:"top",showSpeed:850,scrollSpeed:12,pauseSpeed:5e3,pauseOnHover:!0,loop:-1,fxEasingShow:"swing",fxEasingScroll:"linear",cssShowing:"marquee-showing",init:null,beforeshow:null,show:null,aftershow:null,isScroll:!1,shiftLeft:30}}(jQuery);